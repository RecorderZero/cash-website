import{p as D,P as G,e as c,s as H,z as _,K as R,L as ce,t as ve,Q as fe,m as z,g as A,h as E,i as o,M as Z,S as me,aB as $,aC as ge,a9 as ee,C as ye,aD as he,a5 as Ve,B as xe,a6 as q,T as K,O as J,ai as W,I as be,ap as Se,G as U,N as Ce,F as j,aE as ke,aF as Me}from"./index-Cprc_fdF.js";import{f as te}from"./forwardRefs-DWGaNmQL.js";import{a as ae}from"./index--73UuLZc.js";import{D as ne,M as le,s as Pe,h as Ie,p as Fe}from"./transition-Dn7dxP8G.js";import{m as pe,b as Be,a as _e,u as De,f as we,V as Re}from"./VField-D0C_Vq28.js";import{I as Ae}from"./VAvatar-E_GeJ3Nz.js";const se=Symbol.for("vuetify:form"),Ee=D({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Te(e){const g=G(e,"modelValue"),m=c(()=>e.disabled),a=c(()=>e.readonly),l=H(!1),t=_([]),r=_([]);async function h(){const n=[];let s=!0;r.value=[],l.value=!0;for(const v of t.value){const i=await v.validate();if(i.length>0&&(s=!1,n.push({id:v.id,errorMessages:i})),!s&&e.fastFail)break}return r.value=n,l.value=!1,{valid:s,errors:r.value}}function V(){t.value.forEach(n=>n.reset())}function y(){t.value.forEach(n=>n.resetValidation())}return R(t,()=>{let n=0,s=0;const v=[];for(const i of t.value)i.isValid===!1?(s++,v.push({id:i.id,errorMessages:i.errorMessages})):i.isValid===!0&&n++;r.value=v,g.value=s>0?!1:n===t.value.length?!0:null},{deep:!0}),ce(se,{register:n=>{let{id:s,validate:v,reset:i,resetValidation:S}=n;t.value.some(C=>C.id===s),t.value.push({id:s,validate:v,reset:i,resetValidation:S,isValid:null,errorMessages:[]})},unregister:n=>{t.value=t.value.filter(s=>s.id!==n)},update:(n,s,v)=>{const i=t.value.find(S=>S.id===n);i&&(i.isValid=s,i.errorMessages=v)},isDisabled:m,isReadonly:a,isValidating:l,isValid:g,items:t,validateOn:ve(e,"validateOn")}),{errors:r,isDisabled:m,isReadonly:a,isValidating:l,isValid:g,items:t,validate:h,reset:V,resetValidation:y}}function $e(){return fe(se,null)}const ze=D({...z(),...Ee()},"VForm"),Ze=A()({name:"VForm",props:ze(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,g){let{slots:m,emit:a}=g;const l=Te(e),t=_();function r(V){V.preventDefault(),l.reset()}function h(V){const y=V,n=l.validate();y.then=n.then.bind(n),y.catch=n.catch.bind(n),y.finally=n.finally.bind(n),a("submit",y),y.defaultPrevented||n.then(s=>{var i;let{valid:v}=s;v&&((i=t.value)==null||i.submit())}),y.preventDefault()}return E(()=>{var V;return o("form",{ref:t,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:r,onSubmit:h},[(V=m.default)==null?void 0:V.call(m,l)])}),te(l,t)}}),Ne=D({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...z(),...ne({transition:{component:ae}})},"VCounter"),Oe=A()({name:"VCounter",functional:!0,props:Ne(),setup(e,g){let{slots:m}=g;const a=c(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return E(()=>o(le,{transition:e.transition},{default:()=>[Z(o("div",{class:["v-counter",e.class],style:e.style},[m.default?m.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[me,e.active]])]})),{}}}),Ue=D({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...z(),...ne({transition:{component:ae,leaveAbsolute:!0,group:!0}})},"VMessages"),je=A()({name:"VMessages",props:Ue(),setup(e,g){let{slots:m}=g;const a=c(()=>$(e.messages)),{textColorClasses:l,textColorStyles:t}=Pe(c(()=>e.color));return E(()=>o(le,{transition:e.transition,tag:"div",class:["v-messages",l.value,e.class],style:[t.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&a.value.map((r,h)=>o("div",{class:"v-messages__message",key:`${h}-${a.value}`},[m.message?m.message({message:r}):r]))]})),{}}}),He=D({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...pe()},"validation");function Ke(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ge(),m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ee();const a=G(e,"modelValue"),l=c(()=>e.validationValue===void 0?a.value:e.validationValue),t=$e(),r=_([]),h=H(!0),V=c(()=>!!($(a.value===""?null:a.value).length||$(l.value===""?null:l.value).length)),y=c(()=>!!(e.disabled??(t==null?void 0:t.isDisabled.value))),n=c(()=>!!(e.readonly??(t==null?void 0:t.isReadonly.value))),s=c(()=>{var d;return(d=e.errorMessages)!=null&&d.length?$(e.errorMessages).concat(r.value).slice(0,Math.max(0,+e.maxErrors)):r.value}),v=c(()=>{let d=(e.validateOn??(t==null?void 0:t.validateOn.value))||"input";d==="lazy"&&(d="input lazy");const x=new Set((d==null?void 0:d.split(" "))??[]);return{blur:x.has("blur")||x.has("input"),input:x.has("input"),submit:x.has("submit"),lazy:x.has("lazy")}}),i=c(()=>{var d;return e.error||(d=e.errorMessages)!=null&&d.length?!1:e.rules.length?h.value?r.value.length||v.value.lazy?null:!0:!r.value.length:!0}),S=H(!1),C=c(()=>({[`${g}--error`]:i.value===!1,[`${g}--dirty`]:V.value,[`${g}--disabled`]:y.value,[`${g}--readonly`]:n.value})),M=c(()=>e.name??ye(m));he(()=>{t==null||t.register({id:M.value,validate:k,reset:P,resetValidation:F})}),Ve(()=>{t==null||t.unregister(M.value)}),xe(async()=>{v.value.lazy||await k(!0),t==null||t.update(M.value,i.value,s.value)}),q(()=>v.value.input,()=>{R(l,()=>{if(l.value!=null)k();else if(e.focused){const d=R(()=>e.focused,x=>{x||k(),d()})}})}),q(()=>v.value.blur,()=>{R(()=>e.focused,d=>{d||k()})}),R([i,s],()=>{t==null||t.update(M.value,i.value,s.value)});function P(){a.value=null,K(F)}function F(){h.value=!0,v.value.lazy?r.value=[]:k(!0)}async function k(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];S.value=!0;for(const u of e.rules){if(x.length>=+(e.maxErrors??1))break;const f=await(typeof u=="function"?u:()=>u)(l.value);if(f!==!0){if(f!==!1&&typeof f!="string"){console.warn(`${f} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(f||"")}}return r.value=x,S.value=!1,h.value=d,r.value}return{errorMessages:s,isDirty:V,isDisabled:y,isReadonly:n,isPristine:h,isValid:i,isValidating:S,reset:P,resetValidation:F,validate:k,validationClasses:C}}const ie=D({id:String,appendIcon:J,centerAffix:{type:Boolean,default:!0},prependIcon:J,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":W(),"onClick:append":W(),...z(),...Ie(),...He()},"VInput"),X=A()({name:"VInput",props:{...ie()},emits:{"update:modelValue":e=>!0},setup(e,g){let{attrs:m,slots:a,emit:l}=g;const{densityClasses:t}=Fe(e),{rtlClasses:r}=be(),{InputIcon:h}=Be(e),V=ee(),y=c(()=>e.id||`input-${V}`),n=c(()=>`${y.value}-messages`),{errorMessages:s,isDirty:v,isDisabled:i,isReadonly:S,isPristine:C,isValid:M,isValidating:P,reset:F,resetValidation:k,validate:d,validationClasses:x}=Ke(e,"v-input",y),u=c(()=>({id:y,messagesId:n,isDirty:v,isDisabled:i,isReadonly:S,isPristine:C,isValid:M,isValidating:P,reset:F,resetValidation:k,validate:d})),b=c(()=>{var f;return(f=e.errorMessages)!=null&&f.length||!C.value&&s.value.length?s.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return E(()=>{var T,p,B,w;const f=!!(a.prepend||e.prependIcon),I=!!(a.append||e.appendIcon),N=b.value.length>0,O=!e.hideDetails||e.hideDetails==="auto"&&(N||!!a.details);return o("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},t.value,r.value,x.value,e.class],style:e.style},[f&&o("div",{key:"prepend",class:"v-input__prepend"},[(T=a.prepend)==null?void 0:T.call(a,u.value),e.prependIcon&&o(h,{key:"prepend-icon",name:"prepend"},null)]),a.default&&o("div",{class:"v-input__control"},[(p=a.default)==null?void 0:p.call(a,u.value)]),I&&o("div",{key:"append",class:"v-input__append"},[e.appendIcon&&o(h,{key:"append-icon",name:"append"},null),(B=a.append)==null?void 0:B.call(a,u.value)]),O&&o("div",{class:"v-input__details"},[o(je,{id:n.value,active:N,messages:b.value},{message:a.message}),(w=a.details)==null?void 0:w.call(a,u.value)])])}),{reset:F,resetValidation:k,validate:d,isValid:M,errorMessages:s}}}),Ge=["color","file","time","date","datetime-local","week","month"],Le=D({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ie(),..._e()},"VTextField"),et=A()({name:"VTextField",directives:{Intersect:Ae},inheritAttrs:!1,props:Le(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,g){let{attrs:m,emit:a,slots:l}=g;const t=G(e,"modelValue"),{isFocused:r,focus:h,blur:V}=De(e),y=c(()=>typeof e.counterValue=="function"?e.counterValue(t.value):typeof e.counterValue=="number"?e.counterValue:(t.value??"").toString().length),n=c(()=>{if(m.maxlength)return m.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),s=c(()=>["plain","underlined"].includes(e.variant));function v(u,b){var f,I;!e.autofocus||!u||(I=(f=b[0].target)==null?void 0:f.focus)==null||I.call(f)}const i=_(),S=_(),C=_(),M=c(()=>Ge.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function P(){var u;C.value!==document.activeElement&&((u=C.value)==null||u.focus()),r.value||h()}function F(u){a("mousedown:control",u),u.target!==C.value&&(P(),u.preventDefault())}function k(u){P(),a("click:control",u)}function d(u){u.stopPropagation(),P(),K(()=>{t.value=null,Me(e["onClick:clear"],u)})}function x(u){var f;const b=u.target;if(t.value=b.value,(f=e.modelModifiers)!=null&&f.trim&&["text","search","password","tel","url"].includes(e.type)){const I=[b.selectionStart,b.selectionEnd];K(()=>{b.selectionStart=I[0],b.selectionEnd=I[1]})}}return E(()=>{const u=!!(l.counter||e.counter!==!1&&e.counter!=null),b=!!(u||l.details),[f,I]=Se(m),{modelValue:N,...O}=X.filterProps(e),T=we(e);return o(X,U({ref:i,modelValue:t.value,"onUpdate:modelValue":p=>t.value=p,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":s.value},e.class],style:e.style},f,O,{centerAffix:!s.value,focused:r.value}),{...l,default:p=>{let{id:B,isDisabled:w,isDirty:L,isReadonly:ue,isValid:re}=p;return o(Re,U({ref:S,onMousedown:F,onClick:k,"onClick:clear":d,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},T,{id:B.value,active:M.value||L.value,dirty:L.value||e.dirty,disabled:w.value,focused:r.value,error:re.value===!1}),{...l,default:oe=>{let{props:{class:Q,...de}}=oe;const Y=Z(o("input",U({ref:C,value:t.value,onInput:x,autofocus:e.autofocus,readonly:ue.value,disabled:w.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:P,onBlur:V},de,I),null),[[Ce("intersect"),{handler:v},null,{once:!0}]]);return o(j,null,[e.prefix&&o("span",{class:"v-text-field__prefix"},[o("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?o("div",{class:Q,"data-no-activator":""},[l.default(),Y]):ke(Y,{class:Q}),e.suffix&&o("span",{class:"v-text-field__suffix"},[o("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:b?p=>{var B;return o(j,null,[(B=l.details)==null?void 0:B.call(l,p),u&&o(j,null,[o("span",null,null),o(Oe,{active:e.persistentCounter||r.value,value:y.value,max:n.value},l.counter)])])}:void 0})}),te({},i,S,C)}});export{Ze as V,et as a};
